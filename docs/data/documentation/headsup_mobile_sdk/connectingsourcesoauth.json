{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Sources such as OURA, dexcom, Biosense, withings, GARMIN, cronometer and Elite HRV use oAuth to connect and disconnect."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The primary classes you’ll use when connecting and disconnecting a source using an Id and password are the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.headsuphealth.headsup-mobile-sdk\/documentation\/headsup_mobile_sdk\/IntegrationController"},{"type":"text","text":" and its associated "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.headsuphealth.headsup-mobile-sdk\/documentation\/headsup_mobile_sdk\/IntegrationEntity"},{"type":"text","text":" class."}]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Note:"}]},{"type":"text","text":" Before reading this topic, make sure you have read the information on retrieving a list of integration sources, in the main topic "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.headsuphealth.headsup-mobile-sdk\/documentation\/headsup_mobile_sdk\/ConnectingSources"},{"type":"text","text":"."}]},{"anchor":"Connecting-Integration-Sources-with-oAuth","level":3,"type":"heading","text":"Connecting Integration Sources with oAuth"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When an IntegrationEntity’s "},{"type":"strong","inlineContent":[{"type":"text","text":"auth_type"}]},{"type":"text","text":" property is set to “oauth”, you need to use the "},{"type":"strong","inlineContent":[{"type":"text","text":"IntegrationController.oAuthIntegrationConnect()"}]},{"type":"text","text":" method to connect it."}]},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"IntegrationController\/oAuthIntegrationConnect(postEndpoint:source:parameters:serverHandlesConnection:useDataTag:completion:)"}]},{"anchor":"Connecting-an-oAuth-Source","level":3,"type":"heading","text":"Connecting an oAuth Source"},{"type":"paragraph","inlineContent":[{"type":"text","text":"There are three main steps in connecting an oAuth source:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Build an authentication URL using the IntegrationController object’s "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.headsuphealth.headsup-mobile-sdk\/documentation\/headsup_mobile_sdk\/IntegrationController\/buildAuthURL(sourceURL:completion:)"},{"type":"text","text":" method."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Initialize an ASWebAuthenticationSession with code that will call the IntegrationController’s "},{"type":"strong","inlineContent":[{"type":"text","text":"connectHumanAPIIntegration()"}]},{"type":"text","text":" method."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Start the ASWebAuthenticationSession session."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Example"}]}]},{"type":"codeListing","syntax":"swift","code":["self.integrationController?.buildAuthURL(sourceURL: source, completion: { result, errorMessage in","    if let authURL = result {","        \/\/ Initialize the session.","        self.session = ASWebAuthenticationSession(url: authURL, callbackURLScheme: \"headsuphealth\")","        { responseURL, error in","            ","            if let queryUrl = responseURL {","                if let params = queryUrl.queryParameters {","                    print(params)","                    self.integrationController?.oAuthIntegrationConnect(source: source, parameters: params, completion: { success, errorMessage in","                        ","                        if success {","                            \/\/ Display connection success message","                        else {","                            \/\/ Display connection error message","                        }","","                    })","                }","            }","        }","        ","        self.session?.presentationContextProvider = self","        self.session?.start()","    }"]},{"anchor":"Disconnecting-an-oAuth-Source","level":3,"type":"heading","text":"Disconnecting an oAuth Source"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To disconnect an oAuth source, just pass the url of the source integration to be disconnected to the IntegrationController object’s "},{"type":"strong","inlineContent":[{"type":"text","text":"disconnectOAuthIntegration()"}]},{"type":"text","text":" method."}]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Example"}]}]},{"type":"codeListing","syntax":"swift","code":["self.integrationController?.disconnectOAuthIntegration(url: source, completion: { success, errorMessage in","    ","})"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/headsup_mobile_sdk\/connectingsourcesoauth"],"traits":[{"interfaceLanguage":"swift"}]},{"paths":["\/documentation\/headsup_mobile_sdk\/connectingsourcesoauth"],"traits":[{"interfaceLanguage":"occ"}]}],"identifier":{"url":"doc:\/\/com.headsuphealth.headsup-mobile-sdk\/documentation\/headsup_mobile_sdk\/ConnectingSourcesOAuth","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"This topic shows you how to connect and disconnect integration sources using oAuth."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Connecting and Disconnecting Sources with oAuth","role":"article","modules":[{"name":"headsup_mobile_sdk"}]},"hierarchy":{"paths":[["doc:\/\/com.headsuphealth.headsup-mobile-sdk\/documentation\/headsup_mobile_sdk"]]},"references":{"doc://com.headsuphealth.headsup-mobile-sdk/documentation/headsup_mobile_sdk/IntegrationController/buildAuthURL(sourceURL:completion:)":{"role":"symbol","title":"buildAuthURL(sourceURL:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"buildAuthURL"},{"kind":"text","text":"("},{"kind":"externalParam","text":"sourceURL"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[],"identifier":"doc:\/\/com.headsuphealth.headsup-mobile-sdk\/documentation\/headsup_mobile_sdk\/IntegrationController\/buildAuthURL(sourceURL:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/headsup_mobile_sdk\/integrationcontroller\/buildauthurl(sourceurl:completion:)"},"doc://com.headsuphealth.headsup-mobile-sdk/documentation/headsup_mobile_sdk/IntegrationEntity":{"role":"symbol","title":"IntegrationEntity","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"IntegrationEntity"}],"abstract":[{"type":"text","text":"Integration Source Entity"}],"identifier":"doc:\/\/com.headsuphealth.headsup-mobile-sdk\/documentation\/headsup_mobile_sdk\/IntegrationEntity","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"IntegrationEntity"}],"url":"\/documentation\/headsup_mobile_sdk\/integrationentity"},"doc://com.headsuphealth.headsup-mobile-sdk/documentation/headsup_mobile_sdk":{"role":"collection","title":"headsup_mobile_sdk","abstract":[{"type":"text","text":"This documentation describes how to access the services in the Heads Up Mobile SDK from your own iOS mobile app. The SDK is written in Swift and is available as a Swift Framework."}],"identifier":"doc:\/\/com.headsuphealth.headsup-mobile-sdk\/documentation\/headsup_mobile_sdk","kind":"symbol","type":"topic","url":"\/documentation\/headsup_mobile_sdk"},"doc://com.headsuphealth.headsup-mobile-sdk/documentation/headsup_mobile_sdk/ConnectingSources":{"role":"article","title":"Connecting and Disconnecting Sources","abstract":[{"type":"text","text":"The Heads Up platform integrates with many popular apps and data sources such as Apple Health, Oura, Dexcom and Fitbit. In this article, you’ll learn how to connect and disconnect these various sources."}],"identifier":"doc:\/\/com.headsuphealth.headsup-mobile-sdk\/documentation\/headsup_mobile_sdk\/ConnectingSources","kind":"article","type":"topic","url":"\/documentation\/headsup_mobile_sdk\/connectingsources"},"doc://com.headsuphealth.headsup-mobile-sdk/documentation/headsup_mobile_sdk/IntegrationController":{"role":"symbol","title":"IntegrationController","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"IntegrationController"}],"abstract":[{"type":"text","text":"\/\/\/ Integration Business Controller - API for Heads Up integration sources such as  Oura, Dexcom, Fitbit, etc."}],"identifier":"doc:\/\/com.headsuphealth.headsup-mobile-sdk\/documentation\/headsup_mobile_sdk\/IntegrationController","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"IntegrationController"}],"url":"\/documentation\/headsup_mobile_sdk\/integrationcontroller"}},"variantOverrides":[{"patch":[{"op":"replace","path":"\/identifier\/interfaceLanguage","value":"occ"},{"op":"add","path":"\/topicSections","value":null},{"op":"add","path":"\/seeAlsoSections","value":null}],"traits":[{"interfaceLanguage":"occ"}]}]}